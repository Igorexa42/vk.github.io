(self.webpackChunkvk=self.webpackChunkvk||[]).push([[6845],{18585:function(e,t,n){"use strict";var o=n(59374),u=n(16539),i=n(20848),a=n(39871),r=n(67181),s=n(89798),p=n(12023),l=n(95574),c=n(72946),_=n(40517);let d=null;(0,l.tq)().setInteractiveHandler("MiniAppsProfileButton/open_app",(e=>{const{dataAttrs:t}=e.payload,{app_id:n}=t||{};c.profileActionButtonCollector.logEvent(_.ProfileActionButtonEventType.LAUNCH_THIRD_PARTY_APP,Number(n))})),window.Profile={startAppsButtonCounterQueue:function(e){d||(d=()=>{"profile"===window.cur.module&&window.ajax.post("apps",{act:"get_profile_buttons_counters"}).promise.then((e=>{const t=e?.json?.data?.[0];t&&Object.keys(t).forEach((e=>{const n=document.querySelector(`[data-mini-app-profile-button-uid-counter="app_${e}"]`);if(n){const o=t[Number(e)];n.classList.toggle("OwnerInfo__appButtonCounter--disabled",0===o),n.innerHTML=o>99?"99+":o.toString()}}))})).catch((()=>null))},window.page.onReadyOrChanged(d));const t=`profilebuttons_${e}`,n=new r.EventQueue({getQueue:()=>(0,s.api)("queue.subscribe",{queue_ids:[t]})?.then((e=>{const{key:n,timestamp:o}=e.queues[0];return{key:n,ts:o,queue:t}})),registerQueue:(e,t)=>{p.QueueManager.addQueue(e,t),p.QueueManager.start()}}).subscribe((e=>{const{uid:t,badge_counter:n}=e.data,o=document.querySelector(`[data-mini-app-profile-button-uid-counter="${t}"]`);o&&(o.classList.toggle("OwnerInfo__appButtonCounter--disabled",0===n),o.innerHTML=n>99?"99+":n)}));window.cur.destroy?.push(n)},showAppsButtonsTooltip:function(e){const t=e?".OwnerInfo__appButtonsMenu .Menu__item":".OwnerInfo__appButtonContent",n=document.querySelector(t);if(n&&window.helpHints.canShow(o.AvailableHelpHints.ACCOUNT_HINT_MINI_APPS_BUTTON_MVK_PROFILE)){const t=(0,u.default)({onboarding:!0,theme:"accent",inner:a.default.wrap((0,i.getLang)("apps_profile_buttons_tooltip_profile")),pos:e?"rbl":"top_left",class:e?void 0:"OwnerInfo__appButtonTooltip","tooltip-id":o.AvailableHelpHints.ACCOUNT_HINT_MINI_APPS_BUTTON_MVK_PROFILE,closeOnOverlayClick:!0});n.appendChild(a.default.elem(t)),n.addEventListener("click",(()=>{window.helpHints.hide(o.AvailableHelpHints.ACCOUNT_HINT_MINI_APPS_BUTTON_MVK_PROFILE)}))}}}}},function(e){"use strict";e.O(0,[1216,9522,4952,8,6320,2450,9873,5411,220,8156,7342,8040,3380,91,5333,8331,8592],(function(){return t=18585,e(e.s=t);var t}));e.O()}]);