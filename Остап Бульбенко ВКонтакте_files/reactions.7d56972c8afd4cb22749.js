(self.webpackChunkvk=self.webpackChunkvk||[]).push([[5226],{9925:function(e,t,n){"use strict";n.d(t,{onLongpress:function(){return r},onLongpressOrClick:function(){return c}});var o=n(20848),i="touchstart mousedown",a="touchmove";function r(e,t=350,n,{cancelLongPressOnMove:r=!1,eventsRelease:c="touchcancel touchend touchmove mouseout mouseup mousemove scroll",initialTouchStartEvent:u,onRelease:l,onStart:d,shouldPreventDefault:m,ignoreMouseLongpress:v,canStart:f}={}){var g,p=n=>{if(!isFunction(f)||f({event:n,type:"start"})){var{target:i}=n;m&&s(n),(0,o.addEvent)(e,c,h,{passive:!0}),null==d||d(n),(0===n.button||(0,o.isUndefined)(n.button))&&(g=setTimeout(R.bind(i,n),t))}},E=()=>{clearTimeout(g),u&&(0,o.removeEvent)(e,c,h,{passive:!0})},h=t=>{clearTimeout(g),(0,o.removeEvent)(e,c,h,{passive:!0}),null==l||l(t)};function R(t){var i,a;t.touches?(i=t.touches[0].pageX,a=t.touches[0].pageY):(i=t.pageX,a=t.pageY),(0,o.removeEvent)(e,c,h,{passive:!0}),clearTimeout(g),!t.touches&&v||n({event:t,pageX:i,pageY:a})}return(0,o.addEvent)(e,i,p,{capture:!0,passive:!m}),r&&(0,o.addEvent)(e,a,E,{passive:!1}),u&&u instanceof Event&&p(u),function(){clearTimeout(g),(0,o.removeEvent)(e,i,p,{capture:!0,passive:!0}),r&&(0,o.removeEvent)(e,a,E,{passive:!1})}}var s=e=>{(e=>"touches"in e)(e)&&e.touches.length<2&&e.preventDefault&&e.preventDefault()};function c(e,t,n,o,i={}){var a=!1,{shouldPreventDefault:c=!1,canStart:u}=i;return r(e,t,((...t)=>{c&&e.removeEventListener("touchend",s,{passive:!1}),isFunction(u)&&!u()||a||(n(...t),a=!0)}),{...i,eventsRelease:i.ignoreMoveEvent?"touchend mouseleave mouseup scroll":"touchend touchmove mouseleave mouseup scroll",onRelease:t=>{(c&&e.removeEventListener("touchend",s,{passive:!1}),!isFunction(u)||u())&&(["mouseup","touchend"].includes(t.type)&&!a&&(o(t),a=!0))},onStart:t=>{a=!1,c&&e.addEventListener("touchend",s,{passive:!1}),null==i.onStart||i.onStart(t)}})}},17093:function(e,t,n){"use strict";var o=n(20848),i=n(62793),a=n(49265),r=n(58918),s=n(9925),c=n(63848),u=n(90616),l=n(39871);const d="SafariIOSTouchContainerPreventCallout",m=(e,t)=>{const n=e.dataset;n&&t in n&&delete n[t]};var v=n(9014),f=n(19633);const g={animationItemsData:Object.create(null)},p=(0,f.getAnimationAsync)({animationDataGet:({animationId:e})=>g.animationItemsData[e],animationDataSet:({animationId:e,loadedAnimationData:t})=>{g.animationItemsData[e]=t},animationModuleLoader:f.animationModuleLoaderAsync});const E=(e,t)=>{t.items.forEach((t=>{if(!t.animationURL)return;const n=e.querySelector(`.js-reaction-menu-item[data-reaction-id="${t.id}"]`),o=n?.querySelector(".ReactionMenuItem__animationContainer");if(!n||!o)return;!function({animationURL:e,onAnimationReady:t,reactionItemAnimationElem:n}){p(e,n,{loadAnimationParams:{autoplay:!0}}).then((e=>{(0,f.onAnimationReady)(e,(()=>{t({animationItem:e})}))}))}({animationURL:t.animationURL,onAnimationReady:({animationItem:e})=>{o.isConnected&&(n.classList.add("ReactionMenuItem--animationActive"),o.__reactionIconAnimation={animationItem:e})},reactionItemAnimationElem:o})}))},h=e=>{const{reactionComment:t,reactionHref:n,reactionSetId:o,reactionTargetObject:i}=e.dataset;if(!o||!i||!n)return;const a=!!t,s=e.getAttribute("data-reaction-user-reaction-id");return{href:n,isComment:a,objectRaw:i,reactionSetId:o,userReactionId:s?(0,r.parseReactionIdOrUnset)(s):void 0}},R=e=>document.querySelector(`[data-reaction-target-object="${e}"]`),I=e=>e.closest('[data-section-ref="reactions-button-container"]')?.querySelector('[data-section-ref="reactions-menu-container"]')??null,_=e=>e instanceof HTMLElement&&e.matches('[data-section-ref="reactions-menu-container"]'),b="isOpen",T="isClosing",S=e=>b in e.dataset,w=e=>{const t=I(e);return!!t&&S(t)};var L=n(64485),M=n(62641);function y(e={}){var t=e.items||[];return t.length?{inner:[{inner:[t.map((t=>{var n=["Reactions.onReactionsMenuChoose","event",{objectRaw:e.object_raw,reactionId:t.id}];return t.url?function(e={}){return{inner:[{inner:[e.reactionTitle],class:"ReactionMenuItem__title",tag:"div"},{class:"ReactionMenuItem__image",style:`background-image: url('${e.imageURL}')`,tag:"div"}],class:L.default.class("ReactionMenuItem",{selected:e.is_selected}),href:e.url,"aria-label":e.reactionTitle,tag:"a"}}({imageURL:t.image_url,url:t.url,reactionTitle:t.title,is_selected:t.is_selected}):function(e={}){return{inner:[{inner:[e.reactionTitle],class:"ReactionMenuItem__title",tag:"div"},{inner:[{class:"ReactionMenuItem__animationContainer",tag:"div"}],class:"ReactionMenuItem__image",style:`background-image: url('${e.imageURL?e.imageURL:""}')`,tag:"div"}],class:["js-reaction-menu-item",L.default.class("ReactionMenuItem",{selected:e.is_selected})],type:"button",onclick:e.onReactionClick,"aria-label":e.reactionTitle,"data-reaction-id":e.reactionId,"data-reaction-hover-active-classname":"ReactionMenuItem--hovered",tag:"button"}}({imageURL:t.imageMenuURL,onReactionClick:n,reactionId:t.id,reactionTitle:t.title})}))],class:"ReactionsMenu__inner",tag:"div"}],class:"ReactionsMenu","aria-label":(0,M.getLang)("mobile_reactions_menu_aria_title"),tag:"ul"}:null}const C=(e,t,{ariaMenuElement:n,onBeforeClose:o})=>{const i=a.isTouch?"touchstart":"mousedown";document.addEventListener(i,m,{passive:!1});const r=()=>{document.removeEventListener(i,m)};let s=!1,u=()=>{},l=()=>{};function d(){s||(s=!0,o?.(),r(),(0,c.onTransitionEnd)(e,{ignoreBubbledEvents:!0}).then((()=>{l&&l(),u&&u()})).catch((()=>{})))}function m(t){if(!(t.target instanceof Element&&e.contains(t.target))){if(r(),(e=>document.body.contains(e)&&S(e))(e))return t.preventDefault(),t.stopImmediatePropagation(),d(),!1;console.warn("Reaction tooltip tap listener was triggered without a menu",e)}}a.isTouch||(0,c.onTransitionEnd)(e,{ignoreBubbledEvents:!0}).then((()=>{l=(0,c.expandPopup)(t),l.exitIntent=()=>!1,n&&(u=(0,c.setFocusTrap)(n),u&&(u.exitIntent=()=>(d(),!1)))})).catch((()=>{}));return{destroy:()=>{d()}}},D="reactions-menu-close",A="reactions-menu-open",O=e=>{e.dispatchEvent(new CustomEvent(D,{bubbles:!1}))},P=()=>{document.querySelectorAll('.ReactionsMenuContainer--open[data-section-ref="reactions-menu-container"]').forEach((e=>{O(e)}))},U=(e,t,n)=>{const r=(0,v.getReactionMenuSet)(n.reactionSetId);if(!r)return;if(S(t)||T in t.dataset)return void console.warn("Opening reactions menu for closing or opened menu is ignored",t);const s=(0,i.isReactionMenuHoverSupported)(),f=(e=>{const t=Math.max(0,0),n=parseInt(window?.getComputedStyle(e).getPropertyValue("--social-buttons-reaction-button-menu-distance"),10)||0;return e.getBoundingClientRect().top+n-158<t?"to-bottom":"to-top"})(e);let g;const p=(0,o.ceFromString)(l.default.html(function(e={}){var t=e.reactions_items;return{inner:[!e.is_placeholder&&t?y({hash:e.hash,items:t,object_raw:e.object_raw}):null],id:e.id,class:["_ReactionsMenuContainerRoot",L.default.class("ReactionsMenuContainer",{open:e.is_open,position:e.position||null,rightToLeft:e.right_to_left})],"data-section-ref":"reactions-menu-container",tag:"div"}}({id:`js-reactions-menu-${n.objectRaw}`,object_raw:n.objectRaw,position:f,reactions_items:r.items,right_to_left:n.isComment})));if(!(p instanceof HTMLElement))return;P(),(0,o.replace)(p,t);const h=C(p,e,{ariaMenuElement:p.querySelector(".ReactionsMenu")??void 0,onBeforeClose:()=>{O(p)}});return p.addEventListener(A,(()=>{if(!s&&!a.default.safari_mobile){const e=(0,u.disableBodyScroll)(p);void 0!==e?.bodyScrollTopBeforeOpen&&(g=e?.bodyScrollTopBeforeOpen)}a.default.safari_mobile&&p.addEventListener("touchstart",(e=>{const t=((e=document.body)=>(e.classList?.add?.(d),()=>{e.classList?.remove?.(d)}))();e.currentTarget?.addEventListener("touchend",(()=>{t()}),{once:!0,passive:!1})}),{passive:!1}),p.classList.add("ReactionsMenuContainer--open"),p.dataset[b]="1",m(p,T)}),{once:!0}),p.addEventListener(D,(()=>{s||a.default.safari_mobile||(0,u.enableBodyScroll)(void 0,{bodyScrollTopBeforeOpen:g}),p.classList.remove("ReactionsMenuContainer--open"),m(p,b),p.dataset[T]="1",(0,c.onTransitionEnd)(p,{ignoreBubbledEvents:!0,startThreshold:100}).then((()=>{(e=>{e.querySelectorAll(".js-reaction-menu-item .ReactionMenuItem__animationContainer").forEach((e=>{const t=e.__reactionIconAnimation?.animationItem;t&&(!t._cbs||t.destroy(),delete t.__reactionIconAnimation)}))})(p),p.innerHTML="",m(p,T)})).catch((()=>{})),h.destroy()}),{once:!0}),(0,o.reflow)(p),(e=>{e.dispatchEvent(new CustomEvent(A,{bubbles:!1}))})(p),p.addEventListener("contextmenu",(e=>{e.preventDefault()}),{passive:!1}),E(p,r),{menuEl:p}};var k=n(8271);const j="reactions-button-cancel-show",N="__isReactionMenuHoverActivationRegistered",H=(e,{triggerMouseenterInitial:t})=>{if(w(e))return;if(N in e)return;let n,o;e.__isReactionMenuHoverActivationRegistered=!0;const i=t=>window.setTimeout((()=>{w(e)||(P(),Z(e))}),t??0),a=t=>window.setTimeout((()=>{(()=>{window.clearTimeout(o),o=void 0;const t=I(e);t&&O(t)})()}),t??0),r=()=>{window.clearTimeout(n),o=i(k.SHOW_TOOLTIP_TIMEOUT)};if(t){const e=t.initialEvent?.relatedTarget;e instanceof HTMLElement&&!0===e.isConnected&&r()}e.addEventListener("mouseenter",r,{passive:!0}),e.addEventListener("mouseleave",(()=>{window.clearTimeout(o),n=a(k.HIDE_TOOLTIP_TIMEOUT)}),{passive:!0});const s=(e=>e.closest('[data-section-ref="reactions-button-container"]'))(e);s?(s.addEventListener("mouseenter",(e=>{_(e.target)&&window.clearTimeout(n)}),{capture:!0,passive:!0}),s.addEventListener("mouseleave",(e=>{_(e.target)&&(n=a(k.HIDE_TOOLTIP_TIMEOUT))}),{capture:!0,passive:!0})):console.warn("Missing reactions menu container"),e.addEventListener(j,(()=>{window.clearTimeout(o)}))};var B=n(30104),q=n(28412);function F(e,t){const n=function(e,{scrollByImpl:t=window.scrollBy}={}){let n=e;function o(e){e&&(n=e);const o=(0,B.getElementOffset)(n);function i(e){if(e&&(n=e),n.isConnected){const e=(0,B.getElementOffset)(n);t(0,e.top-o.top)}}return(0,q.once)(i)}return{start:(0,q.once)(o)}}(e).start();let o;try{n(t())}catch(e){o=e}if(o)throw o}var $=n(79764),x=n(68040);const z=((e={})=>{const t=Object.create(null);return{cancel:e=>{t[e]?.abort(),delete t[e]},register:(n,o)=>{const i=t[n],a=(e=>void 0!==t[e]?.throttleTimerId)(n);if(i){if(a)return!1;console.warn(`Reactions pending request for key '${n}' wasn't unregistered, but has to be overwritten.\nPending request should be cancelled through .cancel() explicitly before .register()`),i.abort()}let r;t[n]={abort:o},void 0!==e?.throttleMs&&(r=((e,n)=>{const o=t[e];if(!o)return;o.throttleTimerId&&window.clearTimeout(o.throttleTimerId);const i=window.setTimeout((()=>{const n=t[e];n&&(n.throttleTimerId=void 0)}),n);return o.throttleTimerId=i,i})(n,e.throttleMs));return()=>{t[n]?.abort===o&&delete t[n],window.clearTimeout(r)}}}})({throttleMs:50}),X=({reactionId:e,urlWithParams:t},n)=>{const o=(0,r.isReactionIdUnset)(e)?void 0:{reaction_id:String(e)},i=n?.abortPendingRequests?.key;let a;const s=()=>{a?.()};if(i){const e=z.register(i,s);if(!1===e)return!1;a=e}const c=(u=t,(l=o)?[u,(0,x.toQueryString)(l)].join("&"):u);var u,l;const d=$.default.post(c,{_ajax:1});return i&&d.promise.catch((()=>{})).finally((()=>{a?.()})),d},Y=(e,t,n={})=>{const a=(0,o.scrollGetY)(),r=h(t);if(!r)return void console.warn("Invalid payload for object",t);const{href:s,objectRaw:c}=r;(0,i.isDebugEnabled)()&&console.log(`Change reaction for object ${c}: ${e}`);const u=X({urlWithParams:s,reactionId:e},{abortPendingRequests:{key:r.objectRaw}});!1!==u?u.promise.then((e=>{if(e?.skip)return;if(!t.isConnected)return void console.warn("Reaction change result cannot be applied",c,t);const i=(e=>{if(!Array.isArray(e))return;const[t,n,o,i]=e;return"string"!=typeof t||"string"!=typeof n||"string"!=typeof o||"string"!=typeof i&&null!==i?void 0:[t,n,o,i]})(e?.json?.data);if(!i){const t=new Error("Invalid reaction set response");return void console.log(t,e?.json)}const r=()=>{window.Like.onDone(...i)},s=(0,o.scrollGetY)()!==a;n.isPrimaryLikeButtonClick&&!s?F(t,(()=>(r(),R(c)??void 0))):r()}),(e=>{(0,i.isDebugEnabled)()&&console.log("requestPostReactionSet rejected:",e),t.isConnected||console.warn("Reaction change result cannot be applied",c,t)})):(0,i.isDebugEnabled)()&&console.log(`Skip change reaction for object ${c}: ${e}`)},V="enter",G="leave";let W;const J=(e,t,n)=>{const o=e.getAttribute("data-reaction-hover-active-classname");o&&e.classList.toggle(o,n===V)};function K(e){if(!a.isTouch)return;W&&W();const t=[];e.querySelectorAll(".js-reaction-menu-item").forEach((e=>{const n=((e,t)=>{const n=n=>{const o=n.touches[0];if(!o)return;const i=document.elementFromPoint(o.clientX,o.clientY);if(!i)return;const a=e.contains(i),r=e.__ontouchenter;a?(r&&"isEntered"in r||t(n,V),e.__ontouchenter={isEntered:!0}):(r&&"isLeft"in r||t(n,G),e.__ontouchenter={isLeft:!0})};return document.addEventListener("touchmove",n,{passive:!0}),()=>{document.removeEventListener("touchmove",n)}})(e,J.bind(null,e));t.push(n)}));const n=()=>{t.forEach((e=>{e()}))};return W=n,n}const Q=e=>e.target instanceof HTMLElement&&e.target.closest?.("._ReactionsMenuContainerRoot"),Z=e=>{const t=I(e),n=h(e),o=n?.reactionSetId;if(!t||!n||!o)return void console.warn("Unable to open reactions menu",{menuContainer:t,buttonPayload:n});const i=U(e,t,{...n,reactionSetId:o});return{menuEl:i?i?.menuEl:void 0}},ee=e=>{const t=h(e);if(!t)return void console.warn("Invalid payload for object",e);const{userReactionId:n}=t;return{reactionsPayload:t,newReactionSetId:void 0===n?k.REACTION_ID_DEFAULT:k.REACTION_ID_UNSET}},te=(e,t={})=>{const n=ee(e);if(void 0===n)return;const{newReactionSetId:o}=n;P(),(0,r.isValidReactionIdState)(o)?((0,i.isReactionMenuHoverSupported)()&&(e=>{e.dispatchEvent(new CustomEvent(j,{bubbles:!1}))})(e),Y(o,e,{isPrimaryLikeButtonClick:t.isPrimaryLikeButtonClick})):console.error("Invalid reaction id",o)},ne=(e,t,n={})=>{0===t.detail&&!a.isTouch||te(e,n)},oe=e=>{let t=!1;const n=(i=document,a="mouseup touchend",r=function(o){if(n(),t)return;let i;if(t=!0,"mouseup"===o.type)i=o.target instanceof HTMLElement?o.target:null;else if("touchend"===o.type){const e=o.changedTouches[0],t=document.elementFromPoint(e.clientX,e.clientY);i=t instanceof HTMLElement?t:null}i&&e(i,o)},s={once:!0,passive:!1},(0,o.addEvent)(i,a,r,s),()=>{(0,o.removeEvent)(i,a,r,s)});var i,a,r,s},ie=(e,t)=>{if(e.__reactionsLongpressListener)return;const n=a.default.mozilla&&a.isTouch,o=a.default.safari_mobile;(0,s.onLongpressOrClick)(e,320,(()=>{const t=Z(e),n=t&&t?.menuEl;if(n){const e=K(n);oe(((t,o)=>{((e,t,n)=>{if(!e.contains(t))return;const o=t.closest(".js-reaction-menu-item");o&&(n.stopImmediatePropagation(),o.click())})(n,t,o),e?.()}))}}),(t=>{const n=!((e,t)=>{if(window.TouchEvent&&e instanceof TouchEvent&&"touchend"===e.type){const n=e.changedTouches[0];if(!n)return!1;const o=document.elementFromPoint(n.clientX,n.clientY);return!!o&&t.contains(o)}if(e instanceof MouseEvent&&"mouseup"===e.type){const n=e.target instanceof HTMLElement?e.target:null;return!!n&&t.contains(n)}return!1})(t,e);n?(0,i.isDebugEnabled)()&&console.info("Reaction button click is released outside, cancelling"):ne(e,t,{isPrimaryLikeButtonClick:!0})}),{cancelLongPressOnMove:!0,canStart:e=>!e||!(a.isTouch&&"start"===e.type&&e.event instanceof MouseEvent),ignoreChildrenEvents:!0,ignoreMouseLongpress:a.isTouch,ignoreMoveEvent:!0,initialTouchStartEvent:t,onStart:e=>{o&&e?.preventDefault?.()},shouldPreventDefault:!(!n&&!o)}),e.addEventListener("contextmenu",(e=>(e.preventDefault(),!1)),{passive:!1}),t.stopPropagation(),e.__reactionsLongpressListener=!0};var ae=n(48658);const re=e=>{const t=e?.reaction_sets;t&&(0,v.storageAddSets)(t)},se=e=>{e&&(0,v.storageSetConfig)(e)};let ce=!1;const ue={onButtonClick:(e,t,n)=>{if(Q(t))return;if(!(0,i.isReactionMenuHoverSupported)())return;const o=0===t.detail;n?.allowKeyboardMenuOpen?(e=>{w(e)?P():(P(),Z(e))})(e):o?(e=>{const t=ee(e);t&&(0,r.isReactionIdUnset)(t?.newReactionSetId)?te(e,{isPrimaryLikeButtonClick:!0}):(P(),Z(e))})(e):ne(e,t,{isPrimaryLikeButtonClick:!0})},onButtonMouseDown:(e,t)=>{Q(t)||(0,i.isReactionMenuHoverSupported)()||(0,o.checkEvent)(t)||function(e,t){ie(e,t)}(e,t)},onButtonMouseEnter:(e,t)=>{Q(t)||((0,i.isReactionMenuHoverSupported)()?H(e,{triggerMouseenterInitial:{initialEvent:t}}):(0,i.isDebugEnabled)()&&console.warn("Reactions menu hover is triggered for unsupported environment"))},onReactionsMenuChoose:(e,...t)=>(e.stopPropagation(),function(e={}){const{objectRaw:t,reactionId:n}=e;if(P(),!t||!(0,r.isValidReactionIdState)(n))return void console.error("Invalid reaction menu item",e);const o=R(t);o?Y(n,o):console.error("Unable to find reactions button",e)}(...t)),storageAddSets:v.storageAddSets,storageSetConfig:v.storageSetConfig};window.Reactions=ue,ce||((0,ae.replaceExtraHandler)("reactionsConfig",se),(0,ae.replaceExtraHandler)("reactions",re),ce=!0)},62793:function(e,t,n){"use strict";n.d(t,{isDebugEnabled:function(){return r},isReactionMenuHoverSupported:function(){return s}});var o=n(49265),i=n(26330);let a;const r=()=>(void 0!==a||(a=!!i.default.get("reactions.debug_enabled")),a),s=()=>!o.isTouch},9014:function(e,t,n){"use strict";n.d(t,{getReactionConfig:function(){return f},getReactionMenuSet:function(){return m},storageAddSets:function(){return d},storageSetConfig:function(){return v}});const o={width:40,height:40},i={width:96,height:96};var a=n(13759);const r=({error:e})=>{!function({error:e,reportError:t=!1}){t&&(0,a.logError)(e,{environment:"reactions"}),console.error(e)}({error:e,reportError:f()?.reportJsErrors??!1})};var s=n(58918),c=n(62793);const u=()=>{const e=window,t=e["__reactions-storage"];if(!t){const t=Object.create(null);return e["__reactions-storage"]=t,t}return t},l={config:void 0},d=e=>{(0,c.isDebugEnabled)()&&console.log(e),Object.entries(e).forEach((([e,t])=>{const n=(0,s.validateReactionSetPayloaditems)(t,e);n?r({error:n.error}):u()[e]=(0,s.prepareReactionMenuSet)(e,t,{imageMenuSize:i,imageStoryPreviewSize:o})}))},m=e=>{const t=u()[e];if(t)return t;{const t=new Error(`Reaction set not found: ${e}`);r({error:t})}},v=e=>{(0,c.isDebugEnabled)()&&console.log(e);const t=(0,s.parseReactionMenuConfig)(e);t?l.config=t:console.warn("Reactions: invalid menu config passed",e)},f=()=>l.config},19633:function(e,t,n){"use strict";n.d(t,{loadAnimationConfigurable:function(){return o},getAnimationAsync:function(){return i},onAnimationReady:function(){return a},animationModuleLoaderAsync:function(){return r}});const o=e=>({animationData:t,animationURL:n,container:o,loadAnimationParams:i={}})=>{const a={...t?{animationData:t}:{path:n},...{renderer:"svg",autoplay:i?.autoplay??!1,loop:i?.loop??!0,rendererSettings:{progressiveLoad:!0}},container:o};return e.loadAnimation(a)},i=({animationDataGet:e,animationDataSet:t,animationModuleLoader:n})=>(...o)=>n().then((({loadAnimation:n})=>(({animationDataGet:e,animationDataSet:t,loadAnimation:n})=>(o,i,a)=>{const r=o,s=e?e({animationId:r}):void 0,c=n({animationData:s,animationURL:o,container:i,loadAnimationParams:a?.loadAnimationParams});return!s&&t&&function(e,t){e.addEventListener("data_ready",(()=>{t(e.animationData)}))}(c,(e=>{t({animationId:r,loadedAnimationData:e})})),c})({animationDataGet:e,animationDataSet:t,loadAnimation:n})(...o)));function a(e,t){e.isLoaded?t():e.addEventListener("DOMLoaded",(()=>{t()}))}const r=()=>Promise.all([n.e(9172),n.e(5544)]).then(n.bind(n,9499)).then((e=>({loadAnimation:o(e.lottie)})))},8271:function(e,t,n){"use strict";n.d(t,{HIDE_TOOLTIP_TIMEOUT:function(){return o},SHOW_TOOLTIP_TIMEOUT:function(){return i},REACTION_ID_DEFAULT:function(){return a},REACTION_ID_MAX:function(){return r},REACTION_ID_MIN:function(){return s},REACTION_ID_UNSET:function(){return c},REACTION_SET_ITEMS_MIN_COUNT:function(){return u},OPENED_REACTED_USERS_DEFAULT_REACTION_ID:function(){return l}});const o=600,i=140,a=0,r=7,s=0,c=void 0,u=2,l=a},58918:function(e,t,n){"use strict";n.d(t,{isReactionIdUnset:function(){return s},isValidReactionIdState:function(){return u},parseReactionIdOrUnset:function(){return l},parseReactionMenuConfig:function(){return m},prepareReactionMenuSet:function(){return r},validateReactionSetPayloaditems:function(){return d}});var o=n(8271);n(28412);const i=Number.isInteger||(e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e),a=(e,t)=>0===e.length?"":((e,t,n=!0)=>e.reduce(((e,o)=>{const i=t(o),a=t(e);return a===i?n?e:o:a<i?e:o})))(e,(e=>(t.width-e.width)**2+(t.height-e.height)**2),!1).url,r=(e,t,n)=>{const o=t.map((({asset:e,color_sets:t,id:o,score:i,title:r})=>({animationURL:e.animation_url||void 0,backgroundColor:t?.background,id:o,imageMenuURL:a(e.images,n.imageMenuSize),imagePreviewURL:"imagePreviewSize"in n?a(e.images,n.imagePreviewSize):void 0,imageStoryPanelURL:"imageStoryPanelSize"in n?a(e.images,n.imageStoryPanelSize):void 0,imageStoryPreviewURL:"imageStoryPreviewSize"in n?a(e.images,n.imageStoryPreviewSize):void 0,score:i,title:r,titleColor:t?.foreground}))),i={};return o.forEach((e=>{i[e.id]=e})),{id:e,items:o,itemsById:i}},s=e=>e===o.REACTION_ID_UNSET,c=e=>i(e)&&e>=o.REACTION_ID_MIN&&e<=o.REACTION_ID_MAX,u=e=>void 0===e||c(e),l=e=>{const t=(e=>{const t=parseInt(e,10);return c(t)?{isValid:!0,value:t}:{isValid:!1}})(e);return t.isValid?t.value:o.REACTION_ID_UNSET},d=(e,t)=>{if(e.length<o.REACTION_SET_ITEMS_MIN_COUNT)return{error:new Error(`Invalid reactions items count in set '${t}': ${e.length}`)}},m=e=>{if(null===(t=e)||"object"!=typeof t)return;var t;const n={},{animationShowStaticAfterEnd:i,menuShowDelay:a,openedDefaultReactionId:r,reportJsErrors:s}=e;return"number"!=typeof a&&void 0!==a||(n.menuShowDelay=a),"boolean"==typeof i&&(n.animationShowStaticAfterEnd=i),"boolean"==typeof s&&(n.reportJsErrors=s),"number"==typeof r||null===r?null===r?n.openedDefaultReactionId=void 0:c(r)&&(n.openedDefaultReactionId=r):n.openedDefaultReactionId=o.OPENED_REACTED_USERS_DEFAULT_REACTION_ID,n}}},function(e){"use strict";e.O(0,[1216,9522,4952,8,6320,2450,9873,5411,220,8156,7342,8040,3380,91,5333,8331,8592],(function(){return t=17093,e(e.s=t);var t}));e.O()}]);